######################################
# Redis - Configuración mínima para caché
######################################

# Puerto
port 6386

# Escuchar en todas las interfaces (útil en Docker)
bind 0.0.0.0

# Desactivar persistencia (nada de RDB ni AOF)
save ""

appendonly yes
appendfsync everysec

# Limitar tamaño máximo de memoria (ejemplo: 100 MB)
maxmemory 5mb

# Política de eliminación cuando se llena la memoria
# Opciones comunes:
#   noeviction      -> error si se llena (no recomendado para caché)
#   allkeys-lru     -> elimina las claves menos usadas recientemente
#   allkeys-lfu     -> elimina las claves menos usadas frecuentemente
#   volatile-lru    -> solo elimina claves con TTL

maxmemory-policy allkeys-lru

# Logs a stdout (para Docker)
logfile ""
